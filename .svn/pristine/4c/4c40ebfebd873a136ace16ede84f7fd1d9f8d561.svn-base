(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da3fa714"],{3314:function(t,e,a){},"8fcb":function(t,e,a){"use strict";a.d(e,"m",(function(){return s})),a.d(e,"g",(function(){return l})),a.d(e,"d",(function(){return n})),a.d(e,"l",(function(){return i})),a.d(e,"e",(function(){return o})),a.d(e,"c",(function(){return c})),a.d(e,"q",(function(){return u})),a.d(e,"b",(function(){return p})),a.d(e,"j",(function(){return d})),a.d(e,"h",(function(){return m})),a.d(e,"p",(function(){return f})),a.d(e,"a",(function(){return h})),a.d(e,"f",(function(){return b})),a.d(e,"i",(function(){return v})),a.d(e,"o",(function(){return g})),a.d(e,"n",(function(){return k})),a.d(e,"k",(function(){return y})),a.d(e,"r",(function(){return T}));var r=a("8137");function s(t){var e="/message/list",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function l(t){var e="/message/del",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function n(t){var e="/message/clearMes",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function i(t){var e="/historyTask/list",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function o(t){var e="/historyTask/del",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function c(t){var e="/historyTask/clearTask",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function u(t){var e="/preMessage/list",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function p(t){var e="/preMessage/add",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function d(t){var e="/preMessage/edit",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function m(t){var e="/preMessage/del",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function f(t){var e="/blackList/list",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function h(t){var e="/blackList/add",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function b(t){var e="/blackList/del",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function v(t){var e="/blackList/edit",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function g(t){var e="/baudInfo/signal",a="get",s=t;return Object(r["a"])({url:e,method:a,params:s})}function k(t){var e="/historyTask/newTasklist",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function y(t){var e="/taskList/list",a="post",s=t;return Object(r["a"])({url:e,method:a,params:s})}function T(t){var e="/baudInfo/getIsRelogin",a="get",s=t;return Object(r["a"])({url:e,method:a,params:s})}},a7e9:function(t,e,a){"use strict";var r=a("3314"),s=a.n(r);s.a},f945:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"msgManagement-content"},[a("div",{staticClass:"msgManagement-content-top",staticStyle:{height:"50px"}},[a("div",{staticClass:"clear"},[a("el-row",{staticClass:"row-toolBox"},[a("el-button",{attrs:{type:"primary",plain:"",size:"medium",icon:"el-icon-refresh"},on:{click:function(e){return t.refresh_HistoryTask()}}},[t._v("刷新")])],1)],1),a("div",{staticClass:"clear"},[a("el-row",{staticClass:"row-toolBox"},[a("el-button",{attrs:{type:"danger",plain:"",size:"medium",icon:"el-icon-delete"},on:{click:function(e){return t.delete_HistoryTask()}}},[t._v("删除")])],1)],1),a("div",{staticClass:"clear"},[a("el-row",{staticClass:"row-toolBox"},[a("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete-solid",size:"medium"},on:{click:function(e){return t.clear_HistoryTask()}}},[t._v("清空")])],1)],1),a("div",{staticClass:"search-box-right",staticStyle:{float:"right"}},[a("el-input",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请输入用户名",clearable:""},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{clearable:"",placeholder:"请选择任务类型"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.chooseTaskType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("div",{staticClass:"clock"},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间"},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}})],1),a("div",{staticClass:"clock"},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间"},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",circle:""},on:{click:function(e){return t.getHistoryTask()}}})],1),a("el-dialog",{attrs:{title:"历史任务操作",visible:t.clearpasttaskVisible},on:{"update:visible":function(e){t.clearpasttaskVisible=e}}},[a("el-form",{attrs:{"label-width":"110px"}},[a("el-form-item",{attrs:{label:"确定要清空吗？"}})],1),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.confirm_clearHistoryTask()}}},[t._v("确定")])],1)],1),a("div",{staticClass:"gridBox-table",staticStyle:{width:"100%",margin:"15px auto"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","font-size":"16px"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"taskType",label:"任务类型",fit:""}}),a("el-table-column",{attrs:{prop:"startTime",label:"开始时间",fit:""}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间",fit:""}}),a("el-table-column",{attrs:{prop:"taskName",label:"用户名",fit:""}}),a("el-table-column",{attrs:{prop:"taskContent",label:"任务内容",width:"240"}}),a("el-table-column",{attrs:{prop:"taskDescription",label:"任务描述",fit:""}}),a("el-table-column",{attrs:{prop:"taskSender",label:"发送方",fit:""}}),a("el-table-column",{attrs:{prop:"taskReceiver",label:"接收方",fit:""}}),a("el-table-column",{attrs:{prop:"taskSendType",label:"发送类型",fit:""}})],1)],1),a("div",{staticClass:"block",staticStyle:{"margin-top":"5px","margin-bottom":"5px"}},[a("el-pagination",{staticStyle:{"text-align":"center"},attrs:{layout:"total, sizes, prev, pager, next, jumper","current-page":t.currPage,"page-size":t.pageSize,"page-sizes":[5,8,10,20],total:t.total},on:{"update:currentPage":function(e){t.currPage=e},"update:current-page":function(e){t.currPage=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav",attrs:{id:"nav-bar"}},[a("span",{staticClass:"title"},[t._v("位置：")]),a("span",{staticClass:"name-parent"},[t._v("通信管理")]),a("i",{staticClass:"el-icon-arrow-right"}),a("span",{staticClass:"name-parent"},[t._v("历史任务管理")])])}],l=(a("8137"),a("8fcb")),n={inject:["reload"],name:"nav-bar",data:function(){return{currPage:1,pageSize:8,value1:"",value2:"",value3:"",value4:"",input:"",clearpasttaskVisible:!1,refresh:!0,total:0,chooseTaskType:[{value:"101",label:"发送消息"},{value:"102",label:"接收消息"},{value:"103",label:"指挥机本机定位"},{value:"104",label:"通播"},{value:"105",label:"友邻位置"},{value:"106",label:"指令导航"},{value:"107",label:"路径规划"},{value:"108",label:"融合通信"},{value:"109",label:"监控短信"}],tableData:[],multipleSelection:[],selectedID:""}},created:function(){this.getHistoryTask()},methods:{handleSizeChange:function(t){this.pageSize=t,this.getHistoryTask()},handleCurrentChange:function(t){this.currPage=t,this.getHistoryTask()},handleSelectionChange:function(t){var e=this;this.multipleSelection=t,this.selectedID="",this.multipleSelection.filter((function(t){e.selectedID+=t.taskId+","})),this.selectedID=this.selectedID.slice(0,-1)},getHistoryTask:function(){var t=this,e={rows:this.pageSize,page:this.currPage,queryName:this.value1,hisType:this.value2,statrTime:this.value3,endTime:this.value4};Object(l["l"])(e).then((function(e){t.total=e.data.records,t.tableData=e.data.rows,t.value1="",t.value2="",t.value3="",t.value4=""})).catch((function(t){return console.log(t)}))},refresh_HistoryTask:function(){this.refresh=this.reload()},delete_HistoryTask:function(){var t=this;if(0==this.$refs.multipleTable.selection.length&&this.$message.error("请选择要删除的任务"),0!=this.$refs.multipleTable.selection.length){var e={id:this.selectedID};Object(l["e"])(e).then((function(e){0==e.data.success?t.$message.error(e.data.message):(t.$message(e.data.message),t.getHistoryTask())}))}},clear_HistoryTask:function(){this.clearpasttaskVisible=!0},confirm_clearHistoryTask:function(){var t=this,e={};Object(l["c"])(e).then((function(e){0==e.data.success?t.$message.error(e.data.message):(t.$message.success(e.data.message),t.getHistoryTask())}))}}},i=n,o=(a("a7e9"),a("2877")),c=Object(o["a"])(i,r,s,!1,null,"730486d8",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-da3fa714.5c6f55a3.js.map