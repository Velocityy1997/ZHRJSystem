{"version":3,"sources":["webpack:///./src/views/map/Map.vue?71d6","webpack:///./src/views/map/Map.vue?8f26","webpack:///./src/views/map/Map.vue","webpack:///./src/assets/img/map/marker-green.png","webpack:///./src/network/mainRuequest1.js","webpack:///./src/views/map/Map.vue?46d1","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./src/assets/img/map/marker-shadow.png","webpack:///./src/assets/img/map/wujiaoxing.jpg","webpack:///src/views/map/Map.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","imgSrc","on","$event","initServiceState","_v","_s","batteryStatus","baudsInfo","handleClick","model","value","callback","$$v","activeName","expression","newInfo","currPage","pageSize","total","handleSizeChange","handleCurrentChange","ExecuteTask","ExecurrPage","ExepageSize","total2","handSizeChange","handCurrentChange","staticRenderFns","component","module","exports","getMessageList","param","url","method","params","getAxios","deleteMessage","clearMessage","delHistory","clearHistory","addpreMessage","editpreMessage","delpreMessage","getblackListTable","addblackList","delblackList","editblackList","getTime","getNewMsgList","getExecuteTaskList","ifRelogin","anObject","toObject","toLength","toInteger","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","undefined","String","defined","REPLACE","$replace","maybeCallNative","searchValue","replaceValue","O","fn","call","regexp","res","done","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","push","matchStr","accumulatedResult","nextSourcePosition","i","length","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","apply","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f","name","mounted","init","_getDataToServer","getZhjLocation","getTerminalLocations","stateBarRefresh","getOnceLocation","data","map","mapUrl","options","lng","serverIP","mapDefaultLevel","domain","local","cn","my_position","zoom_in","zoom_out","distance","bearing","language_sel_lab","language_sel_item_cn","language_sel_item_en","setting_dlg_btn_save","setting_dlg_btn_cancel","setting_dlg_title","outFence","en","_zoomCtrl","_btnCentre","_levelCtrl","_satBaseMapLayerGroup","_streetMapLayerGroup","_miniMapBaseVectorMapLayer","_miniMapLayerGroup","_miniMapCtrl","zhiMarker","terminalLayer","_fenceBar","_routeBar","dataSavedInServer","created","getNewMsg","getExecuteTask","window","setInterval","setTimeout","methods","val","rows","page","_this","L","attributionControl","zoomControl","tileLayer","minZoom","maxZoom","Subdomains","control","Control","LevelControl","scale","_vectorBaseMapLayer","vectorMapUri","layerGroup","MiniMap","toggleDisplay","_narbar","NavBar","_postionbar","PostionBar","setMiniMap","_measureArea","Measure","primaryLengthUnit","secondaryLengthUnit","primaryAreaUnit","_measureRuler","Ruler","circleMarker","color","radius","lineStyle","dashArray","lengthUnit","display","decimal","factor","label","angleUnit","easyButton","setPosition","FenceBar","setEventHanlder","_fenceEventHandler","deserializeFenceFromArray","fence","RouteBar","_routeEventHandler","deserializeRouteFromArray","route","_saveDataToServer","_createDetail2","div","DomUtil","create","p","content","obj","hasOwnProperty","innerHTML","_createDetail1","iconUrl","iconSize","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","_saveRouteDataToServer","serializeRouteToArray","serializeFenceToArray","serializeRouteToArrayAddOrUpdate","mapData","json","_onNavbarTool","state","addTo","remove","_onNavbarRoute","_onNavbarTest","updateDevice","dev","updateCenter","uuid","title","id","number","latitude","toString","longitude","lat","time","gpstime","type","detail","setView","f_ret","outFences","_notify","updatePoint","pt","updateTrack","getHistoryTrack","starttime","startTime","endtime","endTime","item","cardNum","terminalAeraName","zone","numInZone","typeDesc","latLng","_onNavbarDevMan","_loadAllDevices","getBdLocateList","_onNavbarRoadnet","setZIndex","_onNavbarSatmap","hasLayer","_onNavbarFence"],"mappings":"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","file":"public/js/chunk-31c36e34.678256b3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\",attrs:{\"id\":\"map-box\"}},[_c('div',{staticStyle:{\"background\":\"rgb(215, 225, 255)\",\"height\":\"31px\",\"line-height\":\"31px\",\"width\":\"100%\"},attrs:{\"align\":\"right\"}},[_c('a',{staticStyle:{\"padding-right\":\"20px\"},attrs:{\"id\":\"top_status\"}},[_c('img',{staticStyle:{\"padding-right\":\"10px\",\"margin-bottom\":\"6px\",\"vertical-align\":\"middle\"},attrs:{\"src\":_vm.imgSrc},on:{\"click\":function($event){return _vm.initServiceState()}}}),_c('span',{staticStyle:{\"text-align\":\"left\",\"font-weight\":\"bold\"},attrs:{\"type\":\"text\"}},[_vm._v(_vm._s(_vm.batteryStatus))]),_c('span',{staticStyle:{\"text-align\":\"left\",\"font-weight\":\"bold\",\"padding-left\":\"15px\"},attrs:{\"type\":\"text\"}},[_vm._v(_vm._s(_vm.baudsInfo))])])]),_c('div',{staticClass:\"map\",attrs:{\"id\":\"map\"}}),_c('div',{staticStyle:{\"padding\":\"10px\"},attrs:{\"id\":\"tip_dlg\"}}),_c('div',{staticStyle:{\"padding\":\"20px 30px\"},attrs:{\"id\":\"serviceDialog\"}}),_c('div',{staticClass:\"gridBox-msgtable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"0px\"}},[_c('el-tabs',{staticStyle:{\"font-size\":\"16px\"},attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{staticStyle:{\"padding\":\"5px 15px 5px\"},attrs:{\"label\":\"最新信息\",\"name\":\"first\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.newInfo}},[_c('el-table-column',{attrs:{\"prop\":\"taskType\",\"label\":\"任务类型\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"时间\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"taskName\",\"label\":\"用户名\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"taskContent\",\"label\":\"任务内容\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"taskDescription\",\"label\":\"任务描述\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"taskSender\",\"label\":\"发送方\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"taskReceiver\",\"label\":\"接受方\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"taskSendType\",\"label\":\"发送类型\",\"fit\":\"\"}})],1),_c('div',{staticClass:\"block\",staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}},[_c('el-pagination',{staticStyle:{\"text-align\":\"center\"},attrs:{\"layout\":\"total, sizes, prev, pager, next, jumper\",\"current-page\":_vm.currPage,\"page-size\":_vm.pageSize,\"page-sizes\":[5, 8, 10, 20],\"total\":_vm.total},on:{\"update:currentPage\":function($event){_vm.currPage=$event},\"update:current-page\":function($event){_vm.currPage=$event},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"待执行任务\",\"name\":\"second\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.ExecuteTask}},[_c('el-table-column',{attrs:{\"prop\":\"startTime\",\"label\":\"时间\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"sender\",\"label\":\"发送方\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"receiver\",\"label\":\"接受方\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\",\"fit\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"content\",\"label\":\"内容\",\"fit\":\"\"}})],1),_c('div',{staticClass:\"block\",staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}},[_c('el-pagination',{staticStyle:{\"text-align\":\"center\"},attrs:{\"layout\":\"total, sizes, prev, pager, next, jumper\",\"current-page\":_vm.ExecurrPage,\"page-size\":_vm.ExepageSize,\"page-sizes\":[5, 8, 10, 20],\"total\":_vm.total2},on:{\"update:currentPage\":function($event){_vm.ExecurrPage=$event},\"update:current-page\":function($event){_vm.ExecurrPage=$event},\"size-change\":_vm.handSizeChange,\"current-change\":_vm.handCurrentChange}})],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=0328a74f&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAZCAYAAADe1WXtAAAABHNCSVQICAgIfAhkiAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKDSURBVEjHY/j//z8DIQwEekwsTPOBtCBR6gkpYGJmymblZP2qaqf6i42L7TXQYBuyDQUCAXYe9q1iKmKfq09X/5/wbsL/1OWp/zn4OL6xcbK1AuWZSTIUCCyArnphk2zzvedFD9hAGG681vhf0VzxKwcvx1mgOlmChgIBIws7SxVQw9eUZSkohiHjvjd9/71rvH8Dg+UzUE8QTkOBQAxo2GFZQ9nPDVcacBqIjAt2FfznE+f7CgymBUD9nCiGAoEz0Lvv3Ercfva97iPKQBjueNDxX89X7xvQ4PtAc3TA5jGzMleDAj9nSw5OjaWHSv8HtgWCwxOXmsgpkf9YOVi/A83LALkyTVRZ9Ev/236sirM3Zv8Hhh0Ys3GzgV2Gy2Bg0H0DGloLjhx2XvbLkZMj/2FTCEwB/xkZGUFh9B+o7n/S4iSsBibMTwAlt9ugpAYLUzNOfs6vHQ87yHJp5+PO/9zC3F+B5liixD4woFc55jj+JCdMHbIdfgJduRxbkpICBvTXmnM1JMV+xbGK/8CU8wmoXwRr4mdhY6nTdNH8Soqh8sbyX4CRk4UvR3EAbX2ZtSGLKANjZ8b+A2aY60B9THjzPhAECysIfyGUCUARBopcoHpTogoUoO2nQ7pD/uIzFJjUfgCT2EJSSil9YGr41na/DWcOAyYxUOQIkVSesnOzLwS5Bt1AUM6T1pX+wsjEmEJOIS0KTGJfKk9UouZxYM4DBs9lUE4kqzoBJpVSZWvlLzAD2+61/QeVtUADDcmuo4CAFZg1n6StSAMbahFj8R3In0NxxQcE3gLSAl/yd+SDIucDqO6i2FBoEjvCI8Lzg4GRIYEqVTQsiQHDdym+yEHGABQiG/wFXbQjAAAAAElFTkSuQmCC\"","import getAxios from \"network/api\"\r\n\r\n// 获取短信管理表格数据\r\nexport function getMessageList(param) {\r\n    const url = \"/message/list\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n// 删除短信\r\nexport function deleteMessage(param) {\r\n    const url = \"/message/del\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n//清空短信\r\nexport function clearMessage(param) {\r\n    const url = \"/message/clearMes\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n\r\n//获取历史任务表格数据\r\nexport function getHistoryList(param) {\r\n    const url = \"/historyTask/list\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n//删除历史任务\r\nexport function delHistory(param) {\r\n    const url = \"/historyTask/del\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n//清空历史任务\r\nexport function clearHistory(param) {\r\n    const url = \"/historyTask/clearTask\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n\r\n//获取预置电文列表 \r\nexport function getpreMessageList(param) {\r\n    const url = \"/preMessage/list\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n//添加预置电文\r\nexport function addpreMessage(param) {\r\n    const url = \"/preMessage/add\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n\r\n//修改预置电文\r\nexport function editpreMessage(param) {\r\n    const url = \"/preMessage/edit\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n\r\n//删除预置电文\r\nexport function delpreMessage(param) {\r\n    const url = \"/preMessage/del\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n\r\n//获取黑名单列表\r\nexport function getblackListTable(param) {\r\n    const url = \"/blackList/list\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n//添加黑名单\r\nexport function addblackList(param) {\r\n    const url = \"/blackList/add\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n\r\n//删除黑名单\r\nexport function delblackList(param) {\r\n    const url = \"/blackList/del\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n\r\n//修改黑名单\r\nexport function editblackList(param) {\r\n    const url = \"/blackList/edit\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n\r\n//获取此刻时间、电量、信号\r\nexport function getTime(param) {\r\n    const url = \"/baudInfo/signal\";\r\n    const method = \"get\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n//获取最新消息列表\r\nexport function getNewMsgList(param) {\r\n    const url = \"/historyTask/list\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n//获取待执行任务列表\r\nexport function getExecuteTaskList(param) {\r\n    const url = \"/taskList/list\";\r\n    const method = \"post\";\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}\r\n\r\n//判断是否被踢下线的接口\r\nexport function ifRelogin(param) {\r\n    const url = '/baudInfo/getIsRelogin';\r\n    const method = 'get';\r\n    let params = param;\r\n    return getAxios({ url, method, params });\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC\"","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABmCAYAAAAqCKSWAAAEC0lEQVR4nO2cO1LkMBCG54Lcg0NwBE7ABcjJiUlJCSck4wZatxfGaqlbD3tstaz/q+qqZWoBoccnqS35cgEAAAAAAAAAAABYg/v6chStywEqca+vjqJ1OUAl7uHBUbQuB6jAfX66qcX+B3TZD+7lZWk46LIfbo1GAV32AdMkdNkPTJPQZT9EjQZd2kfUJHRpH/f8zEbZHNClbdzPTzSvzQFd2sZ9fERqnAO6tI17eloa6PGRKxO6tEmkybc3rkzo0iaRJr+/uTKhS5swTfr/hi7twkYXRTj6oEubsPkssfmGLo3BVpBSnhK6tEekyVTKC7q0A9OkP6KgS9swTfojCrq0S6TJ6zXfcNBle1gj+CMPurQN017JlgC6bE80csJcJXRpE1b5UooLurQJ052U4oIu7RGNmDUBXR4Pq/RUigu65MwLAaowOpjTInzNpVJcNbqk7USrv+f9/bhOMzde7aLg3pFLcdXoslUc2WisAWv2T/eOrRV/j7lyS6e7Xts02q3xqALC3k/qCVNSI8Y0oqLPJj02bTAfVZ1rlupnCKoP/3Cu15Ct20pEVOfalV+vIRnIghpzzFn6UdUpdVxLaixBVMVZ1alNFVbVmEOcnM+mTtpL9qjGHKdWp7Ql6U2NOU6lTup0Z1JjjlOokzrbGdWYo2t1Sp1s+qx1nR5KV+qkTiWda5nK27oem9CFOqUy/hqidf01xbQ6JSuMpsYcptQpdaaR1ZjDhDqlzgI15pl7u78QKD3seq8IN9VQYzlsc3v0w9rwASv0WEZ0uLXFIsWf36ZO1LpOuoDNMUdrUtPl1Jla14t5mmpSG+XQZRoTmpRGO3SZxoQmtdEOXeowTUp7OujSHpEma65OSZVOnWDLSWfosgymyS2npMPMx5aDs9BlHtZYa3OUWnpsbdIausyzSZPa87Iw1syb0KUOm4tqNaklhSnnKT1xkD6r+fnQ5QJTXI0mC44SiKOMUlqllz7C0Q9dLlRrUnpeRl9PI1f8+ZpKSzMzwWsVj64fk1RrUhpB9H0Fz8vEFebv90KXlVRpUpqfplFT9fu0Sxmp3w1dxhRpUlPjyrvb6ln/1NN26HKhSJM7Xg5UT3BJ7wWDLheSmjzoBkx0VELrMNDlgloxievJu5VF0iTNqX65/P8zqi7ZPir38PSgAzvqlam/soZJ6xF1yZbmpElJjYm92W7l0m7iUHmhy0v8Pq6wpxfuzXYrnzTyqUwj5y6ZJqUTw5V7s71QTzSPqkv1GZnRe2bJ/d1IuhR7sfEruGpmZRRdiln5TnqtunAZQZfRS7A7vEwRLVw66XibuGmy8zezsiTB2XV5+2MP3pvtye2JxZl1+bfRbl2OezPnNUfQJQAAAAAAAAAAAAAAAAj8A4m+RwAmrulsAAAAAElFTkSuQmCC\"","<template>\r\n  <div id=\"map-box\" class=\"map\">\r\n    <div\r\n      style=\"background: rgb(215, 225, 255) ; height: 31px;line-height:31px; width:100%;\"\r\n      align=\"right\"\r\n    >\r\n      <a id=\"top_status\" style=\"padding-right:20px;\">\r\n        <img\r\n          style=\"padding-right:10px;margin-bottom:6px;vertical-align: middle;\"\r\n          :src=\"imgSrc\"\r\n          @click=\"initServiceState()\"\r\n        />\r\n        <span style=\"text-align:left;font-weight:bold;\" type=\"text\">{{batteryStatus}}</span>\r\n        <span style=\"text-align:left;font-weight:bold;padding-left: 15px;\" type=\"text\">{{baudsInfo}}</span>\r\n      </a>\r\n    </div>\r\n    <div id=\"map\" class=\"map\"></div>\r\n    <div id=\"tip_dlg\" style=\"padding:10px;\"></div>\r\n    <div id=\"serviceDialog\" style=\"padding: 20px 30px\"></div>\r\n    <div class=\"gridBox-msgtable\" style=\"width: 100%; margin-top: 0px;\">\r\n      <el-tabs v-model=\"activeName\" type=\"card\" @tab-click=\"handleClick\" style=\"font-size: 16px; \">\r\n        <el-tab-pane label=\"最新信息\" name=\"first\" style=\"padding: 5px 15px 5px;\">\r\n          <el-table :data=\"newInfo\" style=\"width: 100%;\">\r\n            <el-table-column prop=\"taskType\" label=\"任务类型\" fit></el-table-column>\r\n            <el-table-column prop=\"startTime\" label=\"时间\" fit></el-table-column>\r\n            <el-table-column prop=\"taskName\" label=\"用户名\" fit></el-table-column>\r\n            <el-table-column prop=\"taskContent\" label=\"任务内容\" fit></el-table-column>\r\n            <el-table-column prop=\"taskDescription\" label=\"任务描述\" fit></el-table-column>\r\n            <el-table-column prop=\"taskSender\" label=\"发送方\" fit></el-table-column>\r\n            <el-table-column prop=\"taskReceiver\" label=\"接受方\" fit></el-table-column>\r\n            <el-table-column prop=\"taskSendType\" label=\"发送类型\" fit></el-table-column>\r\n          </el-table>\r\n          <div class=\"block\" style=\"margin-top: 5px; margin-bottom: 5px;\">\r\n            <el-pagination\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :current-page.sync=\"currPage\"\r\n              :page-size=\"pageSize\"\r\n              :page-sizes=\"[5, 8, 10, 20]\"\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :total=\"total\"\r\n              style=\"text-align: center;\"\r\n            ></el-pagination>\r\n          </div>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"待执行任务\" name=\"second\">\r\n          <el-table :data=\"ExecuteTask\" style=\"width: 100%;\">\r\n            <el-table-column prop=\"startTime\" label=\"时间\" fit></el-table-column>\r\n            <el-table-column prop=\"sender\" label=\"发送方\" fit></el-table-column>\r\n            <el-table-column prop=\"receiver\" label=\"接受方\" fit></el-table-column>\r\n            <el-table-column prop=\"type\" label=\"类型\" fit></el-table-column>\r\n            <el-table-column prop=\"content\" label=\"内容\" fit></el-table-column>\r\n          </el-table>\r\n          <div class=\"block\" style=\"margin-top: 5px; margin-bottom: 5px;\">\r\n            <el-pagination\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :current-page.sync=\"ExecurrPage\"\r\n              :page-size=\"ExepageSize\"\r\n              :page-sizes=\"[5, 8, 10, 20]\"\r\n              @size-change=\"handSizeChange\"\r\n              @current-change=\"handCurrentChange\"\r\n              :total=\"total2\"\r\n              style=\"text-align: center;\"\r\n            ></el-pagination>\r\n          </div>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getPosition,\r\n  getAllPosion,\r\n  getRoute,\r\n  getTipData,\r\n  getTerminalHisPositions,\r\n  getLocation,\r\n  getFinishTask\r\n} from \"network/mainRuequest\";\r\n\r\nimport {\r\n  getNewMsgList,\r\n  getTime,\r\n  getExecuteTaskList\r\n} from \"network/mainRuequest1\";\r\n\r\nexport default {\r\n  name: \"map-box\",\r\n  mounted() {\r\n    this.init();\r\n\r\n    this._getDataToServer(); // 获取路线\r\n    this.getZhjLocation(); // 指挥机位置定位到中心\r\n    this.getTerminalLocations(); // 获取所有终端位置\r\n\r\n    this.stateBarRefresh(); // 获取电量信息\r\n    this.getOnceLocation(); // 获取某个终端的信息\r\n  },\r\n  data() {\r\n    return {\r\n      baudsInfo: \"\", // 信号\r\n      batteryStatus: \"\", // 电量\r\n      imgSrc: \"\", // 状态\r\n      currPage: 1,\r\n      pageSize: 5,\r\n      ExecurrPage: 1,\r\n      ExepageSize: 5,\r\n      activeName: \"first\",\r\n      newInfo: [],\r\n      ExecuteTask: [],\r\n      total: 0,\r\n      total2: 0,\r\n      map: null,\r\n      mapUrl: \"http://www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}\",\r\n      options: {\r\n        lng: \"cn\",\r\n        //serverIP:'127.0.0.1',\r\n        serverIP: \"192.168.0.177\",\r\n        mapDefaultLevel: 14,\r\n        //domain: 'http://192.168.0.88'\r\n        domain: \"\"\r\n      },\r\n      local: {\r\n        cn: {\r\n          position: \"坐标：\",\r\n          my_position: \"本机位置\",\r\n          zoom_in: \"放大\",\r\n          zoom_out: \"缩小\",\r\n          distance: \"距离:\",\r\n          bearing: \"角度:\",\r\n          language_sel_lab: \"语言\",\r\n          language_sel_item_cn: \"中文\",\r\n          language_sel_item_en: \"英文\",\r\n          setting_dlg_btn_save: \"保存\",\r\n          setting_dlg_btn_cancel: \"取消\",\r\n          setting_dlg_title: \"系统设置\",\r\n          outFence: \"跃出电子围栏\"\r\n        },\r\n        en: {\r\n          position: \"coordinate：\",\r\n          my_position: \"The native place\",\r\n          zoom_in: \"zoom in\",\r\n          zoom_out: \"zoom out\",\r\n          distance: \"distance:\",\r\n          bearing: \"bearing:\",\r\n          language_sel_lab: \"language\",\r\n          language_sel_item_cn: \"chinese\",\r\n          language_sel_item_en: \"english\",\r\n          setting_dlg_btn_save: \"save\",\r\n          setting_dlg_btn_cancel: \"cancel\",\r\n          setting_dlg_title: \"system setting\",\r\n          outFence: \"out of fence\"\r\n        }\r\n      },\r\n\r\n      // + 和 - 按钮\r\n      _zoomCtrl: null,\r\n      _btnCentre: null,\r\n      _levelCtrl: null, // 地图级别\r\n      _satBaseMapLayerGroup: null, //\r\n      _streetMapLayerGroup: null,\r\n\r\n      // 小地图控件\r\n      _miniMapBaseVectorMapLayer: null,\r\n      _miniMapLayerGroup: null,\r\n      _miniMapCtrl: null,\r\n      zhiMarker: null,\r\n\r\n      terminalLayer: null,\r\n      _fenceBar: null,\r\n\r\n      _routeBar: null,\r\n      dataSavedInServer: null\r\n    };\r\n  },\r\n  created: function() {\r\n    this.getNewMsg();\r\n    this.getExecuteTask();\r\n    window.setInterval(() => {\r\n      setTimeout(this.getNewMsg(), 0);\r\n    }, 5000);\r\n    window.setInterval(() => {\r\n      setTimeout(this.getExecuteTask(), 0);\r\n    }, 5000);\r\n    window.setInterval(() => {\r\n      this.getFinishTask(); // 本机定位轮询\r\n    }, 1000);\r\n  },\r\n  methods: {\r\n    handleClick(tab, event) {},\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currPage = val;\r\n    },\r\n    handSizeChange(val) {\r\n      this.ExepageSize = val;\r\n    },\r\n    handCurrentChange(val) {\r\n      this.ExecurrPage = val;\r\n    },\r\n    getNewMsg() {\r\n      let params = {\r\n        rows: this.pageSize,\r\n        page: this.currPage\r\n      };\r\n      getNewMsgList(params).then(res => {\r\n        this.newInfo = res.data.rows;\r\n        this.total = res.data.records;\r\n      });\r\n    },\r\n    getExecuteTask() {\r\n      let params = {\r\n        rows: this.ExepageSize,\r\n        page: this.ExecurrPage\r\n      };\r\n      getExecuteTaskList(params).then(res => {\r\n        this.ExecuteTask = res.data.rows;\r\n        this.total2 = res.data.records;\r\n      });\r\n    },\r\n    init() {\r\n      let _this = this;\r\n      _this.map = L.map(\"map\", {\r\n        attributionControl: false,\r\n        zoomControl: false\r\n      }).setView([34.3468421, 108.9365887], 14);\r\n\r\n      L.tileLayer(this.mapUrl, {\r\n        minZoom: 3,\r\n        maxZoom: 17,\r\n        Subdomains: []\r\n      }).addTo(_this.map);\r\n\r\n      //鼠标位置控件\r\n      L.control\r\n        .mousePosition({\r\n          separator: \",\",\r\n          lngFirst: true,\r\n          numDigits: 6,\r\n          prefix: this.local[this.options.lng].position\r\n        })\r\n        .addTo(_this.map);\r\n\r\n      //地图级数控件\r\n      this._levelCtrl = new L.Control.LevelControl({\r\n        lng: this.options.lng\r\n      }).addTo(_this.map);\r\n\r\n      //比例尺控件\r\n      L.control.scale({ maxWidth: 200, imperial: false }).addTo(_this.map);\r\n      // 鹰眼控件\r\n      let vectorMapUri = this.mapUrl\r\n        .replace(\"{server}\", this.options.lng == \"en\" ? \"eng\" : \"hot\")\r\n        .replace(\"{serverIP}\", this.options.serverIP);\r\n      //eng 英文\r\n      this._vectorBaseMapLayer = L.tileLayer(vectorMapUri, {\r\n        minZoom: 8,\r\n        maxZoom: 17\r\n      })\r\n        .addTo(_this.map)\r\n        .setZIndex(0);\r\n\r\n      this._vectorBaseMapLayer = L.tileLayer(this.mapUrl, {\r\n        minZoom: 3,\r\n        maxZoom: 17,\r\n        Subdomains: []\r\n      })\r\n        .addTo(_this.map)\r\n        .setZIndex(0);\r\n\r\n      this._satBaseMapLayerGroup = L.layerGroup();\r\n\r\n      L.tileLayer(this.mapUrl, {\r\n        minZoom: 0,\r\n        maxZoom: 8\r\n      }).addTo(this._satBaseMapLayerGroup);\r\n\r\n      L.tileLayer(this.mapUrl, {\r\n        minZoom: 3,\r\n        maxZoom: 17,\r\n        Subdomains: []\r\n      }).addTo(this._satBaseMapLayerGroup);\r\n\r\n      // ---------- _streetMapLayerGroup --------------\r\n      this._streetMapLayerGroup = L.layerGroup();\r\n\r\n      L.tileLayer(this.mapUrl, {\r\n        minZoom: 0,\r\n        maxZoom: 8,\r\n        Subdomains: []\r\n      }).addTo(this._streetMapLayerGroup);\r\n\r\n      // ------------ 右下角小地图 ---------------------\r\n      this._miniMapBaseVectorMapLayer = L.tileLayer(vectorMapUri, {\r\n        minZoom: 0,\r\n        maxZoom: 13,\r\n        Subdomains: []\r\n      });\r\n      this._miniMapLayerGroup = L.layerGroup([this._miniMapBaseVectorMapLayer]);\r\n      this._miniMapCtrl = new L.Control.MiniMap(this._miniMapLayerGroup, {\r\n        toggleDisplay: true\r\n      }).addTo(_this.map);\r\n\r\n      //+, - 按钮\r\n      this._zoomCtrl = L.control\r\n        .zoom({\r\n          position: \"bottomright\",\r\n          zoomInTitle: this.local[this.options.lng].zoom_in,\r\n          zoomOutTitle: this.local[this.options.lng].zoom_out\r\n        })\r\n        .addTo(_this.map);\r\n\r\n      // ------------------ NavBar控件右上角两个按钮 ----------------------\r\n      this._narbar = new L.Control.NavBar(\r\n        {\r\n          route: _this._onNavbarRoute,\r\n          tool: _this._onNavbarTool,\r\n          test: _this._onNavbarTest,\r\n          serverIP: _this.options.serverIP\r\n        },\r\n        _this,\r\n        { lng: this.options.lng }\r\n      ).addTo(_this.map);\r\n\r\n      this._postionbar = new L.Control.PostionBar(_this.map, {\r\n        lng: this.options.lng,\r\n        serverIP: this.options.serverIP\r\n      });\r\n      this._postionbar.setMiniMap(this._miniMapCtrl, this._miniMapLayerGroup);\r\n\r\n      this._measureArea = new L.Control.Measure({\r\n        primaryLengthUnit: \"meters\",\r\n        secondaryLengthUnit: \"kilometers\",\r\n        primaryAreaUnit: \"sqmeters\",\r\n        secondaryLengthUnit: \"hectares\",\r\n        activeColor: \"#ff0000\",\r\n        completedColor: \"#0000ff\",\r\n        localization: this.options.lng\r\n      });\r\n\r\n      this._measureRuler = new L.Control.Ruler({\r\n        position: \"topright\", // Leaflet control position option\r\n        circleMarker: {\r\n          // Leaflet circle marker options for points used in this plugin\r\n          color: \"red\",\r\n          radius: 2\r\n        },\r\n        lineStyle: {\r\n          // Leaflet polyline options for lines used in this plugin\r\n          color: \"red\",\r\n          dashArray: \"1,6\"\r\n        },\r\n        lengthUnit: {\r\n          // You can use custom length units. Default unit is kilometers.\r\n          display: \"km\", // This is the display value will be shown on the screen. Example: 'meters'\r\n          decimal: 2, // Distance result will be fixed to this value.\r\n          factor: null, // This value will be used to convert from kilometers. Example: 1000 (from kilometers to meters)\r\n          label: this.local[this.options.lng].distance\r\n        },\r\n        angleUnit: {\r\n          display: \"&deg;\", // This is the display value will be shown on the screen. Example: 'Gradian'\r\n          decimal: 2, // Bearing result will be fixed to this value.\r\n          factor: null, // This option is required to customize angle unit. Specify solid angle value for angle unit. Example: 400 (for gradian).\r\n          label: this.local[this.options.lng].bearing\r\n        }\r\n      });\r\n\r\n      this._btnCentre = L.easyButton(\r\n        \"fa fa-location-arrow\",\r\n        this.getZhjLocation,\r\n        this.local[this.options.lng].my_position,\r\n        null\r\n      ).addTo(_this.map);\r\n      this._btnCentre.setPosition(\"bottomright\");\r\n\r\n      this._fenceBar = new L.Control.FenceBar(_this.map, {\r\n        lng: this.options.lng\r\n      });\r\n\r\n      this._fenceBar.setEventHanlder(_this._fenceEventHandler, _this);\r\n      if (\r\n        this.dataSavedInServer != null &&\r\n        this.dataSavedInServer.fence != null\r\n      ) {\r\n        this._fenceBar.deserializeFenceFromArray(this.dataSavedInServer.fence);\r\n      }\r\n\r\n      this._routeBar = new L.Control.RouteBar(\r\n        { lng: this.options.lng },\r\n        _this.map\r\n      );\r\n      this._routeBar.setEventHanlder(this._routeEventHandler, this);\r\n      if (\r\n        this.dataSavedInServer != null &&\r\n        this.dataSavedInServer.route != null\r\n      ) {\r\n        this._routeBar.deserializeRouteFromArray(this.dataSavedInServer.route);\r\n      }\r\n    },\r\n    _routeEventHandler(msg) {\r\n      this._saveDataToServer();\r\n    },\r\n\r\n    // 定位标五角星\r\n    getZhjLocation() {\r\n      let _this = this;\r\n      getPosition()\r\n        .then(res => {\r\n          let { data } = res;\r\n          let icon = L.icon({\r\n            iconUrl: require(\"assets/img/map/wujiaoxing.jpg\"),\r\n            iconSize: [48, 48],\r\n            iconAnchor: [12, 43],\r\n            popupAnchor: [0, -52],\r\n            shadowUrl: require(\"assets/img/map/marker-shadow.png\"),\r\n            shadowSize: [41, 41],\r\n            shadowAnchor: [0, 51]\r\n          });\r\n\r\n          if (data.data != null) {\r\n            if (_this.zhiMarker != null) {\r\n              _this.map.removeLayer(_this.zhiMarker);\r\n            }\r\n\r\n            _this.zhiMarker = L.marker(\r\n              L.latLng([data.data.latitude, data.data.longitude]),\r\n              { icon: icon }\r\n            ).bindPopup(_this._createDetail2(data.data));\r\n\r\n            _this.zhiMarker.dataModel = data.data;\r\n            _this.zhiMarker.shape = \"marker\";\r\n            _this.zhiMarker.application = \"routebar\";\r\n            _this.map.addLayer(_this.zhiMarker);\r\n\r\n            _this.map.setView(\r\n              L.latLng([data.data.latitude, data.data.longitude]),\r\n              _this.options.mapDefaultLevel\r\n            );\r\n          }\r\n        })\r\n        .catch(err => console.log(\"err\"));\r\n    },\r\n    // 挂载提示框  leaflet-marker-icon leaflet-zoom-animated leaflet-interactive\r\n    _createDetail2(obj) {\r\n      var div = L.DomUtil.create(\"div\", \"\", \"\");\r\n      var p = L.DomUtil.create(\"p\", \"text-left font-weight-bold\", div);\r\n      var content = \"\";\r\n\r\n      if (obj.hasOwnProperty(\"lat\"))\r\n        content += \"经纬度:\" + obj.lng + \"° , \" + obj.lat + \"°\" + \"<br/>\";\r\n      if (obj.hasOwnProperty(\"name\"))\r\n        content += \"指挥机名称：\" + obj.name + \"<br/>\";\r\n      if (obj.hasOwnProperty(\"cardNum\"))\r\n        content += \"指挥机卡号：\" + obj.cardNum + \"<br/>\";\r\n      if (obj.hasOwnProperty(\"longitude\"))\r\n        content +=\r\n          \"经纬度:\" + obj.longitude + \"° , \" + obj.latitude + \"°\" + \"<br/>\";\r\n\r\n      p.innerHTML = content;\r\n\r\n      return div;\r\n    },\r\n    _createDetail1(obj) {\r\n      let div = L.DomUtil.create(\"div\", \"\", \"\");\r\n      let p = L.DomUtil.create(\"p\", \"text-left font-weight-bold\", div);\r\n      let content = \"\";\r\n\r\n      if (obj.hasOwnProperty(\"name\"))\r\n        content += \"终端名称：\" + obj.name + \"<br/>\";\r\n      if (obj.hasOwnProperty(\"cardNum\"))\r\n        content += \"终端卡号：\" + obj.cardNum + \"<br/>\";\r\n      if (obj.hasOwnProperty(\"longitude\"))\r\n        content +=\r\n          \"经纬度：\" + obj.longitude + \"° , \" + obj.latitude + \"°\" + \"<br/>\";\r\n      if (obj.hasOwnProperty(\"locateTime\"))\r\n        content += \"定位时间：\" + obj.locateTime + \"<br/>\";\r\n      p.innerHTML = content;\r\n      return div;\r\n    },\r\n\r\n    // 获取所有终端位置\r\n    getTerminalLocations() {\r\n      let icon = L.icon({\r\n        iconUrl: require(\"assets/img/map/marker-green.png\"),\r\n        iconSize: [21, 25],\r\n        iconAnchor: [9, 25],\r\n        popupAnchor: [0, -25],\r\n        shadowUrl: require(\"assets/img/map/marker-shadow.png\"),\r\n        shadowSize: [41, 41],\r\n        shadowAnchor: [14, 41]\r\n      });\r\n\r\n      getAllPosion()\r\n        .then(res => {\r\n          let { data } = res.data;\r\n          let _this = this;\r\n          _this.terminalLayer = L.featureGroup();\r\n          for (let i = 0; i < data.length; i++) {\r\n            let mk = L.marker(L.latLng([data[i].latitude, data[i].longitude]), {\r\n              icon: icon /* this._routeBar._createIcon('devIco') */\r\n            }).bindPopup(_this._createDetail1(data[i]));\r\n            mk.dataModel = data[i];\r\n            mk.shape = \"marker\";\r\n            mk.application = \"routebar\";\r\n            mk.addTo(_this.terminalLayer);\r\n          }\r\n\r\n          _this.terminalLayer.addTo(_this.map);\r\n        })\r\n        .catch(err => console.log(err));\r\n    },\r\n    _saveRouteDataToServer() {\r\n      let dat = {\r\n        route: this._routeBar.serializeRouteToArray()\r\n      };\r\n      let json = JSON.stringify(dat);\r\n    },\r\n\r\n    //\r\n    _fenceEventHandler(msg) {\r\n      this._saveDataToServer();\r\n    },\r\n    _saveDataToServer() {\r\n      let dat = {\r\n        lng: this.options.lng,\r\n        fence: this._fenceBar.serializeFenceToArray(),\r\n        route: this._routeBar.serializeRouteToArrayAddOrUpdate()\r\n      };\r\n      let json = JSON.stringify(dat);\r\n\r\n      getTipData(\"/route/handleRoute\", {\r\n        mapData: json\r\n      })\r\n        .then(res => {\r\n          let { data } = res;\r\n          showTipDialog(\"#tip_dlg\", \"提示\", data.message, 2000);\r\n        })\r\n        .catch(err => console.log(\"提示信息获取错误\"));\r\n    },\r\n\r\n    // 右上角两个按钮\r\n    _onNavbarTool(state) {\r\n      if (state == 1) {\r\n        this._measureRuler.addTo(this.map);\r\n        this._measureArea.addTo(this.map);\r\n      } else {\r\n        this._measureArea.remove();\r\n        this._measureRuler.remove();\r\n      }\r\n    },\r\n    _onNavbarRoute(state) {\r\n      if (state == 1) {\r\n        this._routeBar.addTo(this.map);\r\n      } else {\r\n        this._routeBar.remove();\r\n      }\r\n    },\r\n    _onNavbarTest() {\r\n      let lat = 34.3468421;\r\n      let lon = 108.9365887;\r\n\r\n      let devs_json =\r\n        '{\"data\":[{\"altitude\":\"0.0\",\"cardNum\":\"142342\",\"gpstime\":\"2019-04-02 16:19:55\",\"latitude\":\"34.1605\",\"latitudefloat\":34.1595,\"longitude\":\"108.97702\",\"longitudefloat\":108.97702,\"name\":\"142342\",\"numInZone\":\"---\",\"remark\":\"\",\"sjState\":0,\"sjStatedesc\":\"未安装，未引导\",\"status\":0,\"terminalAeraId\":null,\"terminalAeraName\":\"朝鲜\",\"txLevel\":null,\"type\":1,\"typeDesc\":\"区内终端\",\"tzState\":0,\"tzStatedesc\":\"出厂状态，未安装任何数据\",\"uuid\":\"91623a81-5d61-44bd-a69b-86c496989556\",\"zone\":\"---\"},{\"altitude\":\"0.0\",\"cardNum\":\"142339\",\"gpstime\":\"2019-05-29 11:23:09\",\"latitude\":\"34.1605\",\"latitudefloat\":34.1595,\"longitude\":\"108.97707\",\"longitudefloat\":108.97707,\"name\":\"142339\",\"numInZone\":\"---\",\"remark\":\"\",\"sjState\":0,\"sjStatedesc\":\"未安装，未引导\",\"status\":0,\"terminalAeraId\":null,\"terminalAeraName\":\"实时\",\"txLevel\":null,\"type\":1,\"typeDesc\":\"区内终端\",\"tzState\":0,\"tzStatedesc\":\"出厂状态，未安装任何数据\",\"uuid\":\"94b9dd71-09b8-4be2-940d-a346ddc3ce0e\",\"zone\":\"---\"},{\"altitude\":\"0.0\",\"cardNum\":\"142338\",\"gpstime\":\"2019-05-29 16:54:54\",\"latitude\":\"34.160527\",\"latitudefloat\":34.159527,\"longitude\":\"108.97713\",\"longitudefloat\":108.97713,\"name\":\"142338\",\"numInZone\":\"---\",\"remark\":\"\",\"sjState\":0,\"sjStatedesc\":\"未安装，未引导\",\"status\":0,\"terminalAeraId\":null,\"terminalAeraName\":\"陕西省\",\"txLevel\":null,\"type\":1,\"typeDesc\":\"区内终端\",\"tzState\":0,\"tzStatedesc\":\"出厂状态，未安装任何数据\",\"uuid\":\"d5321496-85a9-486e-9070-a459ee4f3c4d\",\"zone\":\"---\"},{\"altitude\":\"0.0\",\"cardNum\":\"142346\",\"gpstime\":\"2019-04-01 14:22:43\",\"latitude\":\"34.1605\",\"latitudefloat\":34.1595,\"longitude\":\"108.97702\",\"longitudefloat\":108.97702,\"name\":\"142346\",\"numInZone\":\"---\",\"remark\":\"\",\"sjState\":0,\"sjStatedesc\":\"未安装，未引导\",\"status\":0,\"terminalAeraId\":null,\"terminalAeraName\":\"平壤大使馆\",\"txLevel\":null,\"type\":1,\"typeDesc\":\"区内终端\",\"tzState\":0,\"tzStatedesc\":\"出厂状态，未安装任何数据\",\"uuid\":\"f3639dbd-36a0-4959-8b99-dff890d3d87f\",\"zone\":\"---\"}],\"message\":null,\"status\":0}';\r\n      let centre_json =\r\n        '{\"data\":{\"altitude\":\"0\",\"gpstime\":\"2019-05-29 17:28:57.0\",\"latitude\":\"34.1605\",\"longitude\":\"108.977104\",\"name\":null,\"number\":null,\"uuid\":\"b2d72703-c4e6-4457-ad65-e4c4c7b66142\"},\"message\":\"定位成功\",\"status\":1}';\r\n\r\n      let devs = JSON.parse(devs_json).data;\r\n      let center = JSON.parse(centre_json).data;\r\n      for (let i = 0, len = devs.length; i < len; i++) {\r\n        let dev = devs[i];\r\n        this.updateDevice(dev);\r\n      }\r\n    },\r\n    updateCenter(extObj) {\r\n      let obj = extObj;\r\n      let pt = {\r\n        uuid: obj.uuid,\r\n        title: obj.name == null ? \"指挥机\" : obj.name,\r\n        id: obj.number == null ? \"000000\" : obj.number,\r\n        position: obj.latitude.toString() + \",\" + obj.longitude.toString(),\r\n        lat: obj.latitude,\r\n        lng: obj.longitude,\r\n        time: obj.gpstime,\r\n        type: \"center\",\r\n        detail: \"\"\r\n      };\r\n\r\n      this.map.setView(\r\n        L.latLng([pt.lat, pt.lng]),\r\n        this.options.mapDefaultLevel\r\n      );\r\n\r\n      let f_ret = this._fenceBar.checkFences(pt);\r\n      if (f_ret.outFences.length > 0) {\r\n        this._notify(\r\n          pt.title + \"(\" + pt.id + \")\" + this.local[this.options.lng].outFence\r\n        ) +\r\n          \": \" +\r\n          f_ret.outFences.join();\r\n      }\r\n      this._postionbar.updatePoint(pt, false);\r\n      this._postionbar.updateTrack(pt.id, [pt], true, true, true);\r\n    },\r\n\r\n    // 获取路线\r\n    _getDataToServer() {\r\n      let _this = this;\r\n      getRoute(\"/route/getAll\")\r\n        .then(res => {\r\n          let mapData = res.data.data;\r\n          for (let i = 0; i < mapData.length; i++) {\r\n            this._routeBar.createRoute({ title: mapData[i].routeName }); //添加路线\r\n            let json = JSON.parse(mapData[i].content);\r\n\r\n            for (let j = 0; j < json.wayPoints.length; j++) {\r\n              this._routeBar.createPoint2({\r\n                lng: json.wayPoints[j].lng,\r\n                lat: json.wayPoints[j].lat,\r\n                title: json.rote,\r\n                type: json.wayPoints[j].type,\r\n                pos: json.wayPoints[j].index\r\n              });\r\n            }\r\n            for (let j = 0; j < json.awayPoints.length; j++) {\r\n              this._routeBar.createPoint2({\r\n                lng: json.awayPoints[j].lng,\r\n                lat: json.awayPoints[j].lat,\r\n                title: json.rote,\r\n                type: json.awayPoints[j].type,\r\n                pos: json.awayPoints[j].index\r\n              });\r\n            }\r\n            for (let j = 0; j < json.purpose.length; j++) {\r\n              this._routeBar.createPoint2({\r\n                lng: json.purpose[j].lng,\r\n                lat: json.purpose[j].lat,\r\n                title: json.rote,\r\n                type: json.purpose[j].type,\r\n                pos: json.purpose[j].index\r\n              });\r\n            }\r\n          }\r\n        })\r\n        .catch(err => console.log(\"获取路线数据err\"));\r\n    },\r\n    getHistoryTrack(startTime, endTime, item) {\r\n      let _this = this;\r\n      let data = {\r\n        starttime: startTime,\r\n        endtime: endTime,\r\n        uuid: item.uuid\r\n      };\r\n      let url = \"/terminalTask/getHistoryLocation\";\r\n      getTerminalHisPositions(url, data)\r\n        .then(res => {\r\n          let { data } = res;\r\n          for (let i in data.data) {\r\n            let pt = data.data[i];\r\n            pt.lat = pt.latitude;\r\n            pt.lng = pt.longitude;\r\n          }\r\n          _this._postionbar.updateHistory(item.id, data.data, true, true);\r\n        })\r\n        .catch(err => console.log(\"err\"));\r\n    },\r\n\r\n    //\r\n    updateDevice(extObj) {\r\n      let obj = extObj;\r\n      let pt = {\r\n        uuid: obj.uuid,\r\n        title: obj.name,\r\n        id: obj.cardNum,\r\n        position: obj.latitude.toString() + \",\" + obj.longitude.toString(),\r\n        lat: obj.latitude,\r\n        lng: obj.longitude,\r\n        time: obj.gpstime,\r\n        type: \"device\",\r\n        detail: \"\",\r\n        terminalAeraName: obj.terminalAeraName,\r\n        zone: obj.zone,\r\n        numInZone: obj.numInZone,\r\n        typeDesc: obj.typeDesc\r\n      };\r\n\r\n      let f_ret = this._fenceBar.checkFences(pt);\r\n      if (f_ret.outFences.length > 0) {\r\n        this._notify(\r\n          pt.title +\r\n            \"(\" +\r\n            pt.id +\r\n            \")\" +\r\n            this.local[this.options.lng].outFence +\r\n            \": \" +\r\n            f_ret.outFences.join()\r\n        );\r\n      }\r\n      this.map.setView(L.latLng(pt.lat, pt.lng), this.options.mapDefaultLevel);\r\n      this._postionbar.updatePoint(pt, true);\r\n      this._postionbar.updateTrack(pt.id, [pt], true, true, true);\r\n    },\r\n    _onNavbarDevMan(state) {\r\n      let _this = this;\r\n      if (state == 1) {\r\n        this._loadAllDevices();\r\n        this._postionbar.addTo(_this.map);\r\n      } else {\r\n        this._postionbar.remove();\r\n      }\r\n    },\r\n    _loadAllDevices() {\r\n      let url = this.options.domain + \"/BAISTMonitor/getBdLocateList.action\";\r\n      getBdLocateList(url)\r\n        .then(res => {\r\n          for (var i = 0; i < data.data.length; i++) {\r\n            var obj = data.data[i];\r\n            if (obj.gpstime != \"\") {\r\n              this.updateDevice(obj);\r\n            }\r\n          }\r\n        })\r\n        .catch(err => console.log(\"err\"));\r\n    },\r\n\r\n    // -----------------------\r\n    _onNavbarRoadnet(state) {\r\n      let _this = this;\r\n\r\n      if (state == 1) {\r\n        this._streetMapLayerGroup.addTo(_this.map).setZIndex(1);\r\n      } else {\r\n        this._streetMapLayerGroup.remove();\r\n      }\r\n    },\r\n    _onNavbarSatmap(state) {\r\n      let _this = this;\r\n      if (state == 1) {\r\n        this._vectorBaseMapLayer.remove();\r\n        this._satBaseMapLayerGroup.addTo(_this.map).setZIndex(0);\r\n      } else {\r\n        this._satBaseMapLayerGroup.remove();\r\n        this._vectorBaseMapLayer.addTo(_this.map).setZIndex(0);\r\n        if (_this.map.hasLayer(this._streetMapLayerGroup)) {\r\n          this._streetMapLayerGroup.remove();\r\n        }\r\n      }\r\n    },\r\n    _onNavbarFence(state) {\r\n      let _this = this;\r\n      if (state == 1) {\r\n        this._fenceBar.addTo(_this.map);\r\n      } else {\r\n        this._fenceBar.remove();\r\n      }\r\n    },\r\n    _onNavbarTool(state) {\r\n      let _this = this;\r\n      if (state == 1) {\r\n        this._measureRuler.addTo(_this.map);\r\n        this._measureArea.addTo(_this.map);\r\n      } else {\r\n        this._measureArea.remove();\r\n        this._measureRuler.remove();\r\n      }\r\n    },\r\n    _onNavbarSetting() {\r\n      this.showSettingDialog();\r\n    },\r\n\r\n    showSettingDialog() {\r\n      let _this = this;\r\n      let content = L.DomUtil.create(\"div\", \"\");\r\n      $(content).css(\"z-index\", \"100\");\r\n\r\n      let div = L.DomUtil.create(\"div\", \"input-group\", content);\r\n      let span = L.DomUtil.create(\"span\", \"input-group-addon\", div);\r\n      span.innerHTML = this.local[this.options.lng].language_sel_lab;\r\n      let input = L.DomUtil.create(\"select\", \"form-control\", div);\r\n      $(input).attr({ id: \"map_setting_dialog_lng_input\" });\r\n      $(input).append(\r\n        \"<option>\" +\r\n          _this.local[_this.options.lng].language_sel_item_cn +\r\n          \"</option>\"\r\n      );\r\n      $(input).append(\r\n        \"<option>\" +\r\n          _this.local[_this.options.lng].language_sel_item_en +\r\n          \"</option>\"\r\n      );\r\n      $(content).dialog({\r\n        autoOpen: true,\r\n        title: _this.local[_this.options.lng].setting_dlg_title,\r\n        modal: true,\r\n        resizable: false,\r\n        buttons: [\r\n          {\r\n            text: _this.local[_this.options.lng].setting_dlg_btn_save,\r\n            click: function() {\r\n              let lng = $(\"#map_setting_dialog_lng_input\").val();\r\n              if (lng == _this.local[_this.options.lng].language_sel_item_cn) {\r\n                _this.options.lng = \"cn\";\r\n              } else if (\r\n                lng == _this.local[_this.options.lng].language_sel_item_en\r\n              ) {\r\n                _this.options.lng = \"en\";\r\n              }\r\n\r\n              _this._saveDataToServer();\r\n              $(this).dialog(\"destroy\");\r\n            }\r\n          },\r\n          {\r\n            text: _this.local[_this.options.lng].setting_dlg_btn_cancel,\r\n            click: function() {\r\n              $(this).dialog(\"destroy\");\r\n            }\r\n          }\r\n        ]\r\n      });\r\n    },\r\n    _notify(msg) {\r\n      $.notify(\r\n        {\r\n          icon: \"fa fa-exclamation-triangle\",\r\n          message: msg\r\n        },\r\n        {\r\n          type: \"danger\",\r\n          offset: {\r\n            x: 70,\r\n            y: 60\r\n          },\r\n          newest_on_top: true\r\n        }\r\n      );\r\n    },\r\n    _tranPosition(objs) {\r\n      for (let i in objs) {\r\n        let segs = objs[i].position.split(\",\");\r\n        objs[i].lat = segs[0];\r\n        objs[i].lng = segs[1];\r\n      }\r\n      return objs;\r\n    },\r\n\r\n    // 电量信息\r\n    stateBarRefresh() {\r\n      this.$Bus.$on(\"systemState\", result => {\r\n        this.batteryStatus = result.batteryStatus;\r\n        this.baudsInfo = result.baudsInfo;\r\n        result.status == \"1\"\r\n          ? (this.imgSrc = \"./img/stateStop.png\")\r\n          : (this.imgSrc = \"./img/stateRun.png\");\r\n      });\r\n    },\r\n    initServiceState() {\r\n      this.$alert(\"<span>222</span>\", \"系统状态\", {\r\n        confirmButtonText: \"确定\",\r\n        dangerouslyUseHTMLString: true,\r\n        callback: action => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: `action: ${action}`\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * @description: 位置查询\r\n     * @method: getOnceLocation\r\n     * @param: {}\r\n     * @return: void\r\n     */\r\n    getOnceLocation() {\r\n      let _this = this;\r\n      this.$Bus.$on(\"getLocation\", card => {\r\n        getLocation({ card })\r\n          .then(res => {\r\n            let { data } = res;\r\n            if (data.status == 2) {\r\n              this.$alert(`该终端没有位置信息！`, \"系统提示\", {\r\n                confirmButtonText: \"确定\"\r\n              });\r\n            } else {\r\n              _this.map.setView(\r\n                L.latLng([data.data.latitude, data.data.longitude])\r\n              );\r\n            }\r\n          })\r\n          .catch(err => console.log(err));\r\n      });\r\n    },\r\n\r\n    /**\r\n     * @description: 本机定位轮询\r\n     * @method: getFinishTask\r\n     * @param: {}\r\n     * @return: void\r\n     */\r\n    getFinishTask() {\r\n      getFinishTask()\r\n        .then(res => {\r\n          let { data } = res;\r\n          if (data.status === 1) {\r\n            this.getZhjLocation();\r\n          }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.map {\r\n  width: 100%;\r\n  height: 80%;\r\n}\r\n\r\n/*  */\r\n.leaflet-control-minimap-toggle-display {\r\n  background-image: url(\"~assets/img/map/toggle.svg\");\r\n  background-size: cover;\r\n}\r\n\r\n/* 测量工具图标 */\r\n.leaflet-ruler {\r\n  background-image: url(\"~assets/img/map/ruler_icon.png\");\r\n}\r\n.leaflet-ruler:hover {\r\n  background-image: url(\"~assets/img/map/ruler_icon-colored.png\"); /* <div>Icons made by <a href=\"http://www.freepik.com\" title=\"Freepik\">Freepik</a> from <a href=\"http://www.flaticon.com\" title=\"Flaticon\">www.flaticon.com</a> is licensed by <a href=\"http://creativecommons.org/licenses/by/3.0/\" title=\"Creative Commons BY 3.0\" target=\"_blank\">CC 3.0 BY</a></div> */\r\n}\r\n.leaflet-ruler-clicked {\r\n  background-image: url(\"~assets/img/map/ruler_icon-colored.png\");\r\n}\r\n.leaflet-control-measure .leaflet-control-measure-toggle,\r\n.leaflet-control-measure .leaflet-control-measure-toggle:hover {\r\n  background-image: url(\"~assets/img/map/rulers.png\");\r\n}\r\n.leaflet-retina .leaflet-control-measure .leaflet-control-measure-toggle,\r\n.leaflet-retina .leaflet-control-measure .leaflet-control-measure-toggle:hover {\r\n  background-image: url(\"~assets/img/map/rulers.png\");\r\n}\r\n\r\n/* 标记小图标 */\r\n.leaflet-draw-toolbar a {\r\n  background-image: url(\"~assets/img/map/spritesheet.png\");\r\n  background-image: linear-gradient(transparent, transparent),\r\n    url(\"~assets/img/map/spritesheet.svg\");\r\n}\r\n.leaflet-retina .leaflet-draw-toolbar a {\r\n  background-image: url(\"~assets/img/map/spritesheet-2x.png\");\r\n  background-image: linear-gradient(transparent, transparent),\r\n    url(\"~assets/img/map/spritesheet.svg\");\r\n}\r\n\r\n.ui-dialog {\r\n  z-index: 9999 !important;\r\n}\r\n#tip_dlg {\r\n  z-index: 99999;\r\n}\r\n.el-table td,\r\n.el-table th {\r\n  padding: 8px 0px;\r\n}\r\n.el-tabs__header {\r\n  margin: 0 0 0px;\r\n}\r\n</style>\r\n\r\n"],"sourceRoot":""}